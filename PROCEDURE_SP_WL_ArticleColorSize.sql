

-- GET ALL DEFINED COLOR AND SIZE VALUES FOR A GIVEN ARTICLE
-- USED TO GET ALL COMBINATIONS OF COLORS AND SIZE
-- FOR ENTRY OF ARTICLE
CREATE PROCEDURE SP_WL_ARTICLECOLORSIZE
(
	@CARTICLECODE VARCHAR(10)=''
)
--WITH ENCRYPTION
AS

	SELECT	A.ARTICLE_CODE, A.PARA1_CODE, B.PARA1_NAME, 
			C.PARA2_CODE,D.PARA2_NAME, D.PARA2_ORDER
	FROM ART_PARA1 A
	JOIN PARA1 B ON A.PARA1_CODE = B.PARA1_CODE 
	JOIN ART_DET C ON A.ARTICLE_CODE = C.ARTICLE_CODE
	JOIN PARA2 D ON C.PARA2_CODE = D.PARA2_CODE
	WHERE A.ARTICLE_CODE = @CARTICLECODE
	ORDER BY B.PARA1_NAME, D.PARA2_ORDER, D.PARA2_NAME
