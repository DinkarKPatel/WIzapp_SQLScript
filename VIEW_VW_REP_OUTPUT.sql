CREATE VIEW VW_REP_OUTPUT

AS
SELECT DISTINCT T6.ARTICLE_NO,T6.ARTICLE_NAME,T6.ARTICLE_DESC,T6.ARTICLE_CODE,UOM.UOM_NAME,
ISNULL(T3.MEMO_NO,'') AS WORK_ORDER_MEMO_NO,
PARA1.PARA1_NAME,PARA2.PARA2_NAME,T2.QUANTITY,T10.SEGMENT_NAME,T11.DEPARTMENT_NAME,
T1.MEMO_ID,T1.MEMO_NO,CONVERT(CHAR(10),ISNULL(T1.MEMO_DT,''),105) AS MEMO_DT
FROM PRD_DEPARTMENT_OUTPUT_MST T1
JOIN PRD_DEPARTMENT_OUTPUT_DET T2 ON T1.MEMO_ID = T2.MEMO_ID
JOIN PRD_WO_MST T3 ON T1.REF_PRD_WORKORDER_MEMOID = T3.MEMO_ID
--JOIN PRD_WORK_ORDER_DET T4 ON T3.MEMO_ID = T4.MEMO_ID
JOIN ARTICLE T6 ON T6.ARTICLE_CODE = T2.ARTICLE_CODE
JOIN UOM ON T6.UOM_CODE = UOM.UOM_CODE
JOIN PRD_DEPARTMENT_RMCONSUMPTION_DET T7 ON T1.MEMO_ID = T7.MEMO_ID AND T7.REF_FINISHED_ARTICLE_CODE = T2.ARTICLE_CODE AND T2.SEGMENT_ID = T7.SEGMENT_ID
--LEFT OUTER JOIN LMV01106 T8 ON T3.AC_CODE = T8.AC_CODE
JOIN ARTICLE T9 ON T7.ARTICLE_CODE = T9.ARTICLE_CODE
JOIN UOM UOM_RM ON UOM_RM.UOM_CODE = T9.UOM_CODE
JOIN PARA1 ON PARA1.PARA1_CODE = T2.PARA1_CODE
JOIN PARA2 ON PARA2.PARA2_CODE = T2.PARA2_CODE
JOIN PRD_SEGMENT_MST T10 ON T10.SEGMENT_ID = T2.SEGMENT_ID
JOIN PRD_DEPARTMENT_MST T11 ON T11.DEPARTMENT_ID = T1.DEPARTMENT_ID
JOIN SECTIOND T12 ON T12.SUB_SECTION_CODE = T6.SUB_SECTION_CODE
