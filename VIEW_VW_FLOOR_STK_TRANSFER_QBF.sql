CREATE VIEW VW_FLOOR_STK_TRANSFER_QBF   

AS   
  SELECT    
    T1.MEMO_NO AS MST_MEMO_NO  
   ,CONVERT(CHAR(10),T1.MEMO_DT,105) AS MST_MEMO_DATE   
   ,T1.MEMO_DT AS MST_MEMO_DT  
   ,T3.BIN_NAME  AS MST_TARGET_FLOOR_NAME    
   ,T4.BIN_NAME AS MST_SOURCE_FLOOR_NAME  
   ,CASE WHEN T1.CANCELLED =0 THEN '' ELSE 'CANCELLED' END AS CANCELLED  
   ,ART.ARTICLE_NO,ART.ARTICLE_NAME,ART.ARTICLE_CODE,ART.ARTICLE_DESC  
   ,U.UOM_NAME   
   ,DET.QUANTITY  
   ,DET.PRODUCT_CODE   
   ,PARA1.PARA1_NAME ,PARA2.PARA2_NAME  
   ,T1.MEMO_NO  
   ,CONVERT(CHAR(10),T1.MEMO_DT,105) AS MEMO_DT  
   ,T1.MEMO_ID  
   ,T1.FIN_YEAR AS MST_FIN_YEAR
   ,DET.SOURCE_BIN_ID  
   ,SEC.SECTION_NAME  
   ,SSEC.SUB_SECTION_NAME  ,T1.location_Code
  FROM FLOOR_ST_MST T1   
  JOIN FLOOR_ST_DET DET ON DET.MEMO_ID = T1.MEMO_ID  
  JOIN SKU ON SKU.PRODUCT_CODE = DET.PRODUCT_CODE   
  JOIN ARTICLE ART ON SKU.ARTICLE_CODE = ART.ARTICLE_CODE   
  JOIN UOM U ON ART.UOM_CODE = U.UOM_CODE   
  JOIN PARA1 ON PARA1.PARA1_CODE = SKU.PARA1_CODE  
  JOIN PARA2 ON PARA2.PARA2_CODE = SKU.PARA2_CODE  
  JOIN PARA3 ON PARA3.PARA3_CODE = SKU.PARA3_CODE  
  JOIN PARA4 ON PARA4.PARA4_CODE = SKU.PARA4_CODE  
  JOIN PARA5 ON PARA5.PARA5_CODE = SKU.PARA5_CODE  
  JOIN PARA6 ON PARA6.PARA6_CODE = SKU.PARA6_CODE  
  JOIN SECTIOND SSEC ON SSEC.SUB_SECTION_CODE = ART.SUB_SECTION_CODE   
  JOIN SECTIONM SEC ON SEC.SECTION_CODE  = SSEC.SECTION_CODE    
  JOIN BIN T3 ON T3.BIN_ID = T1.TARGET_BIN_ID   
  JOIN BIN T4 ON T4.BIN_ID = DET.SOURCE_BIN_ID  
  
---END OF VIEW : VW_FLOOR_STK_TRANSFER_QBF   
---END OF VIEW : VW_FLOOR_STK_TRANSFER_QBF
