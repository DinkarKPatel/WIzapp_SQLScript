CREATE VIEW VW_EMPMOVEMENT 
--WITH ENCRYPTION
AS 
SELECT A.ATTENDANCE_DT,A.DEPT_ID, B.DEPT_ALIAS,B.DEPT_NAME, A.EMP_ID, C.REF_ID,
C.EMP_FNAME + ' ' + C.EMP_LNAME AS EMP_NAME, A.TIME_IN,A.TIME_OUT, 
D.DEPARTMENT_ID, D.DEPARTMENT_NAME, E.DESIG_NAME, C.EMP_STATUS 
FROM EMP_ATTENDANCE A 
JOIN LOCATION B (NOLOCK) ON A.DEPT_ID = B.DEPT_ID
JOIN EMP_MST C (NOLOCK) ON A.EMP_ID = C.EMP_ID
JOIN EMP_DEPARTMENT D (NOLOCK) ON C.DEPARTMENT_ID = D.DEPARTMENT_ID
JOIN EMP_DESIG E (NOLOCK) ON C.DESIG_ID = E.DESIG_ID
WHERE 
--C.MARKETING_EMP = 1 AND 
( A.TIME_IN <> '1900-01-01 00:00:00.000' AND A.TIME_OUT <> '1900-01-01 00:00:00.000')
