create VIEW [DBO].[VW_POSTSALES_JOBWORKRECEIPTPRINT]

AS
	
	
	SELECT N.REMARKS AS ISSUE_MST_REMARKS,M.REMARKS AS ISSUE_DET_REMARKS,M.ISSUE_ID AS ISSUE_ID, B.REMARKS ,A.REMARKS AS MST_REMARKS,
	B.TS,B.PRODUCT_CODE,B.JOB_RATE,B.QUANTITY,A.RECEIPT_NO,A.RECEIPT_DT,A.JOB_CODE,A.NET_AMOUNT,
	A.RECEIVED_BY,A.CANCELLED, F.JOB_NAME,
	ART.ARTICLE_CODE, ART.ARTICLE_NO, ART.ARTICLE_NAME, P1.PARA1_CODE,  
	PARA1_NAME, P2.PARA2_CODE,PARA2_NAME,P3.PARA3_CODE,PARA3_NAME,UOM_NAME,     
	CODING_SCHEME,CONVERT(NUMERIC(10,2),0) AS QUANTITY_IN_STOCK,SKU.PURCHASE_PRICE,
	SKU.MRP,SKU.WS_PRICE,   SM.SECTION_NAME, SD.SUB_SECTION_NAME,  
	P4.PARA4_CODE,P5.PARA5_CODE,P6.PARA6_CODE,  
	PARA4_NAME,PARA5_NAME,PARA6_NAME,E.UOM_CODE,ISNULL(E.UOM_TYPE,0) AS [UOM_TYPE],  
	ART.DT_CREATED AS [ART_DT_CREATED],P3.DT_CREATED AS [PARA3_DT_CREATED],SKU.DT_CREATED AS [SKU_DT_CREATED],  
	ART.STOCK_NA,
	P.CM_DT,P.CM_NO 
	,ART.DT_CREATED ,Y.AGENCY_NAME ,'' AS ADDRESS ,B.REF_ROW_ID ,B.ROW_ID ,N.ISSUE_TYPE ,A.RECEIPT_ID
	,CUST.CUSTOMER_FNAME +''+ CUST.CUSTOMER_LNAME  AS CUSTOMER_NAME,CUST.MOBILE,EMP.EMP_NAME,EMP1.EMP_NAME AS [EMP_NAME2],
	EMP2.EMP_NAME AS [EMP_NAME3],Q.PRODUCT_CODE AS OLD_PRODUCT_CODE
	,LMP.ADDRESS1 AS AGENCY_ADDRESS1
	,LMP.ADDRESS2 AS AGENCY_ADDRESS2
	,LMP.AREA_NAME AS AGENCY_AREA_NAME
	,LMP.PINCODE AS AGENCY_PINCODE
	,LMP.STATE AS AGENCY_STATE
	,LMP.MOBILE AS AGENCY_MOBILE
	,G.DELIVERY_DT
	

	FROM POST_SALES_JOBWORK_RECEIPT_MST A (NOLOCK)                 
	JOIN POST_SALES_JOBWORK_RECEIPT_DET B (NOLOCK) ON A.RECEIPT_ID = B.RECEIPT_ID    
	JOIN POST_SALES_JOBWORK_ISSUE_DET M (NOLOCK) ON M.ROW_ID = B.REF_ROW_ID 
	JOIN POST_SALES_JOBWORK_ISSUE_MST N (NOLOCK) ON M.ISSUE_ID = N.ISSUE_ID 
	JOIN HOLD_BACK_DELIVER_DET G (NOLOCK) ON M.REF_HBD_ROW_ID = G.ROW_ID
	JOIN HOLD_BACK_DELIVER_mst hm (NOLOCK) ON hm.memo_id = G.memo_id
	LEFT JOIN CMD01106 Q (NOLOCK) ON Q.ROW_ID = G.REF_CMD_ROW_ID    
	LEFT JOIN CMM01106 P (NOLOCK) ON Q.CM_ID = P.CM_ID
	JOIN PRD_AGENCY_MST Y (NOLOCK) ON N.AGENCY_CODE = Y.AGENCY_CODE 
	JOIN LMV01106  LMP (NOLOCK) ON y.AC_CODE =LMP.AC_CODE       
	JOIN SKU (NOLOCK) ON SKU.PRODUCT_CODE=B.PRODUCT_CODE
	JOIN ARTICLE ART (NOLOCK) ON SKU.ARTICLE_CODE = ART.ARTICLE_CODE    
	JOIN SECTIOND SD (NOLOCK) ON ART.SUB_SECTION_CODE = SD.SUB_SECTION_CODE  
	JOIN SECTIONM SM (NOLOCK) ON SD.SECTION_CODE = SM.SECTION_CODE  
	JOIN PARA1 P1 (NOLOCK) ON SKU.PARA1_CODE = P1.PARA1_CODE    
	JOIN PARA2 P2 (NOLOCK) ON SKU.PARA2_CODE = P2.PARA2_CODE    
	JOIN PARA3 P3 (NOLOCK)ON SKU.PARA3_CODE = P3.PARA3_CODE    
	JOIN PARA4 P4 (NOLOCK)ON SKU.PARA4_CODE = P4.PARA4_CODE    
	JOIN PARA5 P5 (NOLOCK)ON SKU.PARA5_CODE = P5.PARA5_CODE    
    JOIN PARA6 P6 (NOLOCK)ON SKU.PARA6_CODE = P6.PARA6_CODE    
    JOIN UOM E (NOLOCK)ON ART.UOM_CODE = E.UOM_CODE 
	JOIN JOBS F (NOLOCK) ON F.JOB_CODE = M.JOB_CODE 
	LEFT OUTER JOIN CUSTDYM CUST (NOLOCK) ON CUST.CUSTOMER_CODE = isnull(P.CUSTOMER_CODE,hm.customer_code)
	LEFT JOIN EMPLOYEE EMP(NOLOCK) ON EMP.EMP_CODE=Q.EMP_CODE
	LEFT JOIN EMPLOYEE EMP1(NOLOCK) ON EMP1.EMP_CODE=Q.EMP_CODE1
	LEFT JOIN EMPLOYEE EMP2(NOLOCK) ON EMP2.EMP_CODE=Q.EMP_CODE2

	
