CREATE TRIGGER TRG_UPDATE_RECEIPT_DT ON DBO.PIM01106
FOR UPDATE
AS
BEGIN

       DECLARE @IRECEIPT_DT DATETIME,@DRECEIPT_DT DATETIME
       
       SELECT @DRECEIPT_DT =ISNULL(RECEIPT_DT,'') FROM DELETED
       SELECT @IRECEIPT_DT = ISNULL(RECEIPT_DT,'') FROM INSERTED
       
       IF ISNULL(@DRECEIPT_DT,'')<>'' AND ISNULL(@IRECEIPT_DT,'')=''
       BEGIN
           RAISERROR ('RECEIPT DATE CAN''T NOT BE BLANK',16,1)
           ROLLBACK
       END

END
