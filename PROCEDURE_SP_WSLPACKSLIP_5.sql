CREATE PROCEDURE SP_WSLPACKSLIP_5--(LocId 3 digit change only increased the parameter width by Sanjay:04-11-2024)
 @CMEMOID VARCHAR(40) = '',  
 @CWHERE  VARCHAR(500) = '',
 @NNAVMODE NUMERIC(1,0) = 0,  
 @CFINYEAR VARCHAR(5)='',
 @CLOCID varchar(4)=''
--WITH ENCRYPTION
AS  
BEGIN  

  
 DECLARE @CHEADCODESTR VARCHAR(1000)  
 SELECT @CHEADCODESTR = DBO.FN_ACT_TRAVTREE('0000000018')  
 SELECT A.AC_CODE, A.AC_NAME, A.ADDRESS0,A.ADDRESS1,A.ADDRESS2, A.AREA_NAME , A.CITY,A.[STATE], A.PINCODE ,  
 ISNULL(A.DISCOUNT_PERCENTAGE,0) AS DISCOUNT_PERCENTAGE,A.INV_RATE_TYPE,  
 A.FORM_ID, ISNULL(A.DEFAULT_RATE_TYPE,1) AS DEFAULT_RATE_TYPE  ,A.CREDIT_DAYS,A.TIN_NO ,A.BROKER_AC_CODE ,
 LM.AC_NAME AS BROKER_AC_NAME,ISNULL(A.ON_HOLD,0) AS ON_HOLD
 FROM LMV01106 A  (NOLOCK)  
 LEFT OUTER JOIN LM01106 LM ON A.BROKER_AC_CODE= LM.AC_CODE
 WHERE (CHARINDEX(A.HEAD_CODE,@CHEADCODESTR)>0  
 OR A.ALLOW_CREDITOR_DEBTOR=1) AND A.AC_CODE <>'0000000000' AND ISNULL(A.AC_NAME,'')<>''  
 AND A.INACTIVE=0  
 ORDER BY A.AC_NAME      

end