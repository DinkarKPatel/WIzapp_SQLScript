CREATE PROC SPPR_EDITARTICLE    
 @CVALUE1 VARCHAR(50)         
 AS BEGIN    
    
    
	SELECT A.*,B.SUB_SECTION_NAME, B.ALIAS AS SUB_SECTION_ALIAS, B.MFG_CATEGORY,      
		   C.SECTION_NAME, C.ALIAS AS SECTION_ALIAS, D.UOM_NAME, E.USERNAME,      
	       F.USERNAME AS EDITUSERNAME ,ISNULL(G.ARTICLE_NO,'''') AS ARTICLE_SET_NAME ,
	       LM.AC_NAME AS SUPP_AC_NAME,A.DT_CREATED AS ART_DT_CREATED            
    FROM ARTICLE A (NOLOCK)          
    JOIN SECTIOND B (NOLOCK) ON A.SUB_SECTION_CODE = B.SUB_SECTION_CODE           
    JOIN SECTIONM C (NOLOCK) ON B.SECTION_CODE = C.SECTION_CODE    
    LEFT OUTER JOIN LMV01106 LM ON LM.AC_CODE=A.SUPP_AC_CODE            
    JOIN UOM D  (NOLOCK) ON A.UOM_CODE = D.UOM_CODE           
    LEFT JOIN USERS E (NOLOCK) ON A.USER_CODE  = E.USER_CODE           
    LEFT JOIN USERS F (NOLOCK) ON A.EDT_USER_CODE = F.USER_CODE      
    LEFT JOIN ARTICLE G (NOLOCK) ON A.ARTICLE_SET_CODE = G.ARTICLE_CODE AND ISNULL(G.ARTICLE_CODE,'''') <> ''''                
    WHERE A.ARTICLE_CODE = @CVALUE1        
        
                  
    ----DATATABLE SIZE        
    SELECT A.*, B.PARA2_NAME, B.PARA2_ORDER        
    FROM ART_DET A (NOLOCK)        
    JOIN PARA2 B (NOLOCK) ON A.PARA2_CODE = B.PARA2_CODE         
    WHERE A.ARTICLE_CODE = @CVALUE1      
    ORDER BY B.PARA2_ORDER        
        
    ----DATATABLE COLOR        
    SELECT A.*, B.PARA1_NAME        
    FROM ART_PARA1 A (NOLOCK)        
    JOIN PARA1 B  (NOLOCK) ON A.PARA1_CODE = B.PARA1_CODE           
    WHERE A.ARTICLE_CODE =@CVALUE1          
    ORDER BY B.PARA1_NAME      
      
     ----DATATABLE COLOR    
       
    SELECT IMAGE_1,IMAGE_2,IMAGE_3 FROM PPC_ARTICLE_IMG_PATH WHERE  
    ARTICLE_CODE=@CVALUE1   
END
