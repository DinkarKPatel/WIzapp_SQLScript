CREATE FUNCTION FN_CONVERTINTOHOURSMINS
(
	@NMINS NUMERIC(14)
)
RETURNS VARCHAR(100)
--WITH ENCRYPTION
AS
BEGIN
DECLARE @CCMD	VARCHAR(MAX)
SET @CCMD=''
--YEARS  
SET @CCMD =@CCMD+' '+(CASE WHEN @NMINS>(365*24*60) THEN LTRIM(RTRIM(STR(FLOOR(@NMINS/(365*24*60))))) +' YEARS' ELSE '' END)  
--DAYS  
SET @NMINS=@NMINS%(365*24*60)  
SET @CCMD =@CCMD+ ' '+ (CASE WHEN @NMINS>(24*60) THEN LTRIM(RTRIM(STR(FLOOR(@NMINS/(24*60))))) +' DAYS' ELSE '' END)  
--HOURS  
SET @NMINS=@NMINS%(24*60)  
SET @CCMD =@CCMD+ ' '+ (CASE WHEN @NMINS>60 THEN LTRIM(RTRIM(STR(FLOOR(@NMINS/60)))) +' HOURS' ELSE '' END)  
--MINUTES  
SET @NMINS=@NMINS%60  
SET @CCMD =@CCMD+ ' '+ (CASE WHEN @NMINS>0 THEN LTRIM(RTRIM(STR(@NMINS))) +' MINS' ELSE '' END)  
  
SET @CCMD= LTRIM(RTRIM(@CCMD))

RETURN @CCMD

END
