
IF NOT EXISTS(SELECT * FROM XN_AUDIT_TRIAL_MST WHERE XN_TYPE='WPS' AND TABLE_NAME='WPS_MST' AND FIELD_NAME='Ac_CODE')
   INSERT INTO XN_AUDIT_TRIAL_MST (XN_TYPE,TABLE_NAME,KEY_FIELDS,FIELD_NAME,DATA_TYPE,TRIG,FRIENDLY_COL,ORDER_ID) SELECT 'WPS','WPS_MST','PS_ID+','AC_CODE','varchar','UPDATE','AC Code',1
IF NOT EXISTS(SELECT * FROM XN_AUDIT_TRIAL_MST WHERE XN_TYPE='WPS' AND TABLE_NAME='WPS_MST' AND FIELD_NAME='CANCELLED')
   INSERT INTO XN_AUDIT_TRIAL_MST (XN_TYPE,TABLE_NAME,KEY_FIELDS,FIELD_NAME,DATA_TYPE,TRIG,FRIENDLY_COL,ORDER_ID) SELECT 'WPS','WPS_MST','PS_ID+','CANCELLED','bit','UPDATE','Cancelled',2
IF NOT EXISTS(SELECT * FROM XN_AUDIT_TRIAL_MST WHERE XN_TYPE='WPS' AND TABLE_NAME='WPS_MST' AND FIELD_NAME='REMARKS') 
   INSERT INTO XN_AUDIT_TRIAL_MST (XN_TYPE,TABLE_NAME,KEY_FIELDS,FIELD_NAME,DATA_TYPE,TRIG,FRIENDLY_COL,ORDER_ID) SELECT 'WPS','WPS_MST','PS_ID+','REMARKS','VARCHAR','UPDATE','Remarks',3    


IF NOT EXISTS(SELECT * FROM XN_AUDIT_TRIAL_MST WHERE XN_TYPE='WPS' AND TABLE_NAME='WPS_DET' AND TRIG='DELETE')
   INSERT INTO XN_AUDIT_TRIAL_MST (XN_TYPE,TABLE_NAME,KEY_FIELDS,FIELD_NAME,DATA_TYPE,TRIG,FRIENDLY_COL) SELECT 'WPS','WPS_DET','','','','DELETE',''
IF NOT EXISTS(SELECT * FROM XN_AUDIT_TRIAL_MST WHERE XN_TYPE='WPS' AND TABLE_NAME='WPS_DET' AND FIELD_NAME='PRODUCT_CODE')
   INSERT INTO XN_AUDIT_TRIAL_MST (XN_TYPE,TABLE_NAME,KEY_FIELDS,FIELD_NAME,DATA_TYPE,TRIG,FRIENDLY_COL,ORDER_ID) SELECT 'WPS','WPS_DET','PS_ID+PRODUCT_CODE+','PRODUCT_CODE','VARCHAR','UPDATE','PRODUCT CODE',1
IF NOT EXISTS(SELECT * FROM XN_AUDIT_TRIAL_MST WHERE XN_TYPE='WPS' AND TABLE_NAME='WPS_DET' AND FIELD_NAME='RATE')
   INSERT INTO XN_AUDIT_TRIAL_MST (XN_TYPE,TABLE_NAME,KEY_FIELDS,FIELD_NAME,DATA_TYPE,TRIG,FRIENDLY_COL,ORDER_ID) SELECT 'WPS','WPS_DET','PS_ID+PRODUCT_CODE+','RATE','numeric','UPDATE','Rate',2
IF NOT EXISTS(SELECT * FROM XN_AUDIT_TRIAL_MST WHERE XN_TYPE='WPS' AND TABLE_NAME='WPS_DET' AND FIELD_NAME='QUANTITY')
   INSERT INTO XN_AUDIT_TRIAL_MST (XN_TYPE,TABLE_NAME,KEY_FIELDS,FIELD_NAME,DATA_TYPE,TRIG,FRIENDLY_COL,ORDER_ID) SELECT 'WPS','WPS_DET','PS_ID+PRODUCT_CODE+','QUANTITY','numeric','UPDATE','Quantity',3



   