CREATE VIEW  VW_TTT_QBF   
AS
  SELECT A.MEMO_DT,ART.ARTICLE_NO,  A.MEMO_NO,ART.ARTICLE_NAME,G.*,
  SM.SECTION_NAME, SD.SUB_SECTION_NAME,
  P1.PARA1_NAME,P2.PARA2_NAME,P3.PARA3_NAME,         
  P4.PARA4_NAME,P5.PARA5_NAME,P6.PARA6_NAME,
  E.UOM_NAME,LM.AC_NAME,B.BIN_NAME,
  A.REMARKS AS REMARKS ,
  CMP.COMPANY_NAME,CMP.ADDRESS1,CMP.ADDRESS2,CAR.AREA_NAME AS AREA, CMP.CITY  ,CMP.STATE,CMP.PIN ,CMP.GST_NO       
                  ,PHONES_FAX=CASE LEN(ISNULL(CMP.PHONES_FAX,'')) WHEN 0 THEN '' ELSE CMP.PHONES_FAX END          
                  ,TIN_NO=CASE LEN(ISNULL(CMP.TIN_NO,'')) WHEN 0 THEN '' ELSE CMP.TIN_NO END      
                  ,TAN_NO=CASE LEN(ISNULL(CMP.TAN_NO,'')) WHEN 0 THEN '' ELSE CMP.TAN_NO END           
                  ,CIN=CASE LEN(ISNULL(CMP.CIN,'')) WHEN 0 THEN '' ELSE CMP.CIN END          
   ,CMP.LOGO_PATH   
 FROM TRANSFER_TO_TRADING_MST A (NOLOCK)               
 JOIN TRANSFER_TO_TRADING_DET G (NOLOCK)  ON A.MEMO_ID = G.MEMO_ID                          
 JOIN SKU ON SKU.PRODUCT_CODE=G.PRODUCT_CODE  
 JOIN ARTICLE ART ON SKU.ARTICLE_CODE = ART.ARTICLE_CODE            
 JOIN SECTIOND SD ON ART.SUB_SECTION_CODE = SD.SUB_SECTION_CODE          
 JOIN SECTIONM SM ON SD.SECTION_CODE = SM.SECTION_CODE          
 JOIN PARA1 P1 ON SKU.PARA1_CODE = P1.PARA1_CODE            
 JOIN PARA2 P2 ON SKU.PARA2_CODE = P2.PARA2_CODE            
 JOIN PARA3 P3 ON SKU.PARA3_CODE = P3.PARA3_CODE            
 JOIN PARA4 P4 ON SKU.PARA4_CODE = P4.PARA4_CODE            
 JOIN PARA5 P5 ON SKU.PARA5_CODE = P5.PARA5_CODE            
 JOIN PARA6 P6 ON SKU.PARA6_CODE = P6.PARA6_CODE      
 JOIN UOM E ON ART.UOM_CODE = E.UOM_CODE   
 JOIN BIN B ON B.BIN_ID=G.BIN_ID   
 JOIN LM01106 LM (NOLOCK) ON LM.AC_CODE = G.AC_CODE
 join company CMP (nolock) on CMP.COMPANY_CODE ='01'
 LEFT JOIN AREA CAR (NOLOCK) ON CAR.AREA_CODE =CMP.AREA_CODE 
