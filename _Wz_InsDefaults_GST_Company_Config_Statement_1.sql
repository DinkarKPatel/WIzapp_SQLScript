IF NOT EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS') 
   INSERT GST_COMPANY_CONFIG (XN_TYPE,LOGO,NAME,ADDRESS1,TELEPHONE1,CIN_NO,DATE_WITH_TIME,PRINT_SALE_PERSON)
   SELECT 'SLS',1 AS LOGO, 1 AS NAME, 1 AS ADDRESS1,1 AS TELEPHONE1, 1 AS CIN_NO, 1 AS DATEWITHTIME,1 AS SALE_PERSON
   
IF NOT EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='WSL') 
   INSERT GST_COMPANY_CONFIG (XN_TYPE,LOGO,NAME,ADDRESS1,TELEPHONE1,CIN_NO,DATE_WITH_TIME,PRINT_SALE_PERSON)
   SELECT 'WSL',1 AS LOGO, 1 AS NAME, 1 AS ADDRESS1,1 AS TELEPHONE1, 1 AS CIN_NO, 1 AS DATEWITHTIME,1 AS SALE_PERSON
   
IF NOT EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='PRT') 
   INSERT GST_COMPANY_CONFIG (XN_TYPE,LOGO,NAME,ADDRESS1,TELEPHONE1,CIN_NO,DATE_WITH_TIME,PRINT_SALE_PERSON)
   SELECT 'PRT',1 AS LOGO, 1 AS NAME, 1 AS ADDRESS1,1 AS TELEPHONE1, 1 AS CIN_NO, 1 AS DATEWITHTIME,1 AS SALE_PERSON
   
IF NOT EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='ARC') 
   INSERT GST_COMPANY_CONFIG (XN_TYPE,LOGO,NAME,ADDRESS1,TELEPHONE1,CIN_NO,DATE_WITH_TIME,PRINT_SALE_PERSON)
   SELECT 'ARC',1 AS LOGO, 1 AS NAME, 1 AS ADDRESS1,1 AS TELEPHONE1, 1 AS CIN_NO, 1 AS DATEWITHTIME,1 AS SALE_PERSON
 
IF NOT EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='PUR') 
   INSERT GST_COMPANY_CONFIG (XN_TYPE,LOGO,NAME,ADDRESS1,TELEPHONE1,CIN_NO,DATE_WITH_TIME,PRINT_SALE_PERSON)
   SELECT 'PUR',1 AS LOGO, 1 AS NAME, 1 AS ADDRESS1,1 AS TELEPHONE1, 1 AS CIN_NO, 1 AS DATEWITHTIME,1 AS SALE_PERSON


UPDATE GST_COMPANY_CONFIG SET PRINT_REF_NO=0 WHERE PRINT_REF_NO IS NULL
UPDATE GST_COMPANY_CONFIG SET MRP=1 WHERE XN_TYPE='PRT' AND MRP IS NULL
UPDATE GST_COMPANY_CONFIG SET GROSS_PP=1 WHERE XN_TYPE='PRT' AND GROSS_PP IS NULL
UPDATE GST_COMPANY_CONFIG SET MD_PER=1 WHERE XN_TYPE='PRT' AND MD_PER IS NULL

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND AMT_BEFORE_GST IS NULL)
   BEGIN
      UPDATE GST_COMPANY_CONFIG SET AMT_BEFORE_GST=1 WHERE XN_TYPE='SLS'
      UPDATE GST_COMPANY_CONFIG SET AMT_BEFORE_GST=0 WHERE XN_TYPE!='SLS'
   END

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND DISC_PER IS NULL)
   BEGIN
      UPDATE GST_COMPANY_CONFIG SET DISC_PER=1 WHERE XN_TYPE='SLS'
      UPDATE GST_COMPANY_CONFIG SET DISC_PER=0 WHERE XN_TYPE!='SLS'
   END

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND CGST_AMOUNT IS NULL)
   BEGIN
      UPDATE GST_COMPANY_CONFIG SET CGST_AMOUNT=1 WHERE XN_TYPE='SLS'
      UPDATE GST_COMPANY_CONFIG SET CGST_AMOUNT=0 WHERE XN_TYPE!='SLS'
   END

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND SGST_AMOUNT IS NULL)
   BEGIN
      UPDATE GST_COMPANY_CONFIG SET SGST_AMOUNT=1 WHERE XN_TYPE='SLS'
      UPDATE GST_COMPANY_CONFIG SET SGST_AMOUNT=0 WHERE XN_TYPE!='SLS'
   END

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND IGST_AMOUNT IS NULL)
   BEGIN
      UPDATE GST_COMPANY_CONFIG SET IGST_AMOUNT=1 WHERE XN_TYPE='SLS'
      UPDATE GST_COMPANY_CONFIG SET IGST_AMOUNT=0 WHERE XN_TYPE!='SLS'
   END

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND ITEM_TAXABLE IS NULL)
   BEGIN
     UPDATE GST_COMPANY_CONFIG SET ITEM_TAXABLE=1 WHERE XN_TYPE='SLS'
     UPDATE GST_COMPANY_CONFIG SET ITEM_TAXABLE=0 WHERE XN_TYPE!='SLS'
   END

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND ITEM_GST_RATE IS NULL)
   BEGIN
     UPDATE GST_COMPANY_CONFIG SET ITEM_GST_RATE=1 WHERE XN_TYPE='SLS'
     UPDATE GST_COMPANY_CONFIG SET ITEM_GST_RATE=0 WHERE XN_TYPE!='SLS'
   END

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND PRINT_AUTO_CUT_DATE IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_AUTO_CUT_DATE=1 WHERE XN_TYPE='SLS'
   
IF EXISTS (SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND BILL_MRP IS NULL)
   UPDATE GST_COMPANY_CONFIG SET BILL_MRP=1 WHERE XN_TYPE='SLS'
   
IF EXISTS (SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND BILL_DISCOUNT IS NULL)
   UPDATE GST_COMPANY_CONFIG SET BILL_DISCOUNT=1 WHERE XN_TYPE='SLS'

IF EXISTS (SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND BILL_TAXABLE IS NULL)
   UPDATE GST_COMPANY_CONFIG SET BILL_TAXABLE=1 WHERE XN_TYPE='SLS'

IF EXISTS (SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND ALL_SHOW IS NULL)
   UPDATE GST_COMPANY_CONFIG SET ALL_SHOW=1 WHERE XN_TYPE='SLS'

IF EXISTS (SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='WSL' AND PRINT_WSL_MRP IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_WSL_MRP=1 WHERE XN_TYPE='WSL'
   
IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND TOP_MARGIN IS NULL)
   UPDATE GST_COMPANY_CONFIG SET TOP_MARGIN=0.01 WHERE XN_TYPE='SLS'AND TOP_MARGIN IS NULL
      
IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE XN_TYPE='SLS' AND BOTTOM_MARGIN IS NULL)
   UPDATE GST_COMPANY_CONFIG SET BOTTOM_MARGIN=0.01 WHERE XN_TYPE='SLS'
      
UPDATE GST_COMPANY_CONFIG SET TOP_MARGIN=0.01 WHERE TOP_MARGIN IS NULL
UPDATE GST_COMPANY_CONFIG SET BOTTOM_MARGIN=0.01 WHERE BOTTOM_MARGIN IS NULL
     
IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_BROKER_NAME IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_BROKER_NAME=1 WHERE PRINT_BROKER_NAME IS NULL

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE IS_PARTY_ALIAS IS NULL)
   UPDATE GST_COMPANY_CONFIG SET IS_PARTY_ALIAS=0 WHERE IS_PARTY_ALIAS IS NULL

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_WSL_ITEM_MRP IS NULL)   
   UPDATE GST_COMPANY_CONFIG SET PRINT_WSL_ITEM_MRP=1 WHERE PRINT_WSL_ITEM_MRP IS NULL

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_WSL_ITEM_DISPER IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_WSL_ITEM_DISPER=1 WHERE PRINT_WSL_ITEM_DISPER IS NULL

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_WSL_ITEM_DISAMT IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_WSL_ITEM_DISAMT=1 WHERE PRINT_WSL_ITEM_DISAMT IS NULL

DECLARE @REPORT_TYPE VARCHAR(10)
SELECT TOP 1 @REPORT_TYPE=CASE WHEN REPORT_NAME LIKE 'LASER-A5%' THEN 'A5'
                               WHEN REPORT_NAME LIKE 'LASER-A4%' THEN 'A4'
                               ELSE 'DEFAULT' END
FROM GST_REPORT_CONFIG WHERE XN_TYPE='SLS' AND DEFAULT1=1
UPDATE GST_COMPANY_CONFIG SET LEFT_MARGIN =CASE @REPORT_TYPE WHEN 'A5' THEN 0.09 WHEN 'A4' THEN 0.30 WHEN 'DEFAULT' THEN 0.00 END WHERE XN_TYPE='SLS' AND LEFT_MARGIN IS NULL
UPDATE GST_COMPANY_CONFIG SET RIGHT_MARGIN=CASE @REPORT_TYPE WHEN 'A5' THEN 0.00 WHEN 'A4' THEN 0.25 WHEN 'DEFAULT' THEN 0.00 END WHERE XN_TYPE='SLS' AND RIGHT_MARGIN IS NULL

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE ITEM_FIX_MRP IS NULL)
   UPDATE GST_COMPANY_CONFIG SET ITEM_FIX_MRP=0 WHERE ITEM_FIX_MRP IS NULL

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE DEFAULT_PAPER_SIZE IS NULL)
   UPDATE GST_COMPANY_CONFIG SET DEFAULT_PAPER_SIZE=0 WHERE DEFAULT_PAPER_SIZE IS NULL

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_AUTHORIZED_SIGNATURE IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_AUTHORIZED_SIGNATURE=1 WHERE PRINT_AUTHORIZED_SIGNATURE IS NULL
   
--27 FEB 2018
IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_REF_NO_PRT IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_REF_NO_PRT=1 WHERE PRINT_REF_NO_PRT IS NULL
   
IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE TOTAL_MRP IS NULL)
   UPDATE GST_COMPANY_CONFIG SET TOTAL_MRP=0

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_HSN_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_HSN_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_UOM_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_UOM_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_GROSS_PP_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_GROSS_PP_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_DISC_PER_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_DISC_PER_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_DISC_AMT_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_DISC_AMT_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_RATE_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_RATE_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_MRP_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_MRP_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_MD_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_MD_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_MP_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_MP_PUR=0

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_TAXABLE_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_TAXABLE_PUR=1

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_GST_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_GST_PUR=1  

IF EXISTS(SELECT * FROM GST_COMPANY_CONFIG WHERE PRINT_AMOUNT_PUR IS NULL)
   UPDATE GST_COMPANY_CONFIG SET PRINT_AMOUNT_PUR=1
