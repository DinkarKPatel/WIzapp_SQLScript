CREATE VIEW DBO.VW_ARTICLECOMPONENT_QBF
AS

SELECT M.MEMO_NO AS [MST_MEMO_NO],M.MEMO_ID AS [MEMO_ID],M.MEMO_DT AS [MST_MEMO_DT]
      ,SU.SUB_SECTION_CODE AS [MST_SUB_SECTION_CODE],SU.SUB_SECTION_NAME AS [MST_SUB_SECTION_NAME]
      ,S.SECTION_CODE AS [MST_SECTION_CODE],S.SECTION_NAME AS [MST_SECTION_NAME],M.FIN_YEAR AS [MST_FIN_YEAR]
       ,M.CANCELLED AS [MST_CANCELLED]
       ,M.LAST_UPDATE AS [MST_LAST_UPDATE],M.REMARKS AS [MST_REMARKS]
      ,COMPONENT_NO AS [MST_COMPONENT_NO],DEPT_ID AS [MST_DEPT_ID],U.USER_CODE AS [MST_USER_CODE]
      ,M.USERNAME AS [MST_USERNAME]
      ,D.COMPONENT_SUFFIX AS [MST_COMPONENT_SUFFIX],D.SRNO
 FROM DBO.PRD_COMPONENT_MST M
JOIN DBO.PRD_COMPONENT_DET D      ON M.MEMO_ID = D.MEMO_ID
JOIN DBO.SECTIOND SU WITH(NOLOCK) ON M.SUB_SECTION_CODE= SU.SUB_SECTION_CODE
JOIN DBO.SECTIONM S WITH(NOLOCK)  ON SU.SECTION_CODE = S.SECTION_CODE
JOIN DBO.USERS U WITH(NOLOCK)     ON M.USERNAME =U.USERNAME
