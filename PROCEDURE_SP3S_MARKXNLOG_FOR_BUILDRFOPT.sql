CREATE PROCEDURE SP3S_MARKXNLOG_FOR_BUILDRFOPT
@CTABLENAME VARCHAR(500)
AS
BEGIN
	DECLARE @CCMD NVARCHAR(MAX)
	--UPDATE XNLOG TABLE TO TRIGGER RFOPT BUILD PROCESS AS SOON AS TRANSACTION DATA GETS MERGED
	IF @CTABLENAME='PIM01106'
	BEGIN
		SET @CCMD=N'UPDATE XNLOG SET LAST_UPDATE=GETDATE() WHERE TABLENAME='''+@CTABLENAME+''''
		EXEC SP_EXECUTESQL @CCMD				
		
		SET @CCMD=N'UPDATE XNLOG SET LAST_UPDATE=GETDATE() WHERE TABLENAME=''INM01106'''
		EXEC SP_EXECUTESQL @CCMD				
	END
	ELSE IF @CTABLENAME='CNM01106'
	BEGIN
		SET @CCMD=N'UPDATE XNLOG SET LAST_UPDATE=GETDATE() WHERE TABLENAME='''+@CTABLENAME+''''
		EXEC SP_EXECUTESQL @CCMD				
		
		SET @CCMD=N'UPDATE XNLOG SET LAST_UPDATE=GETDATE() WHERE TABLENAME=''RMM01106'''
		EXEC SP_EXECUTESQL @CCMD				
	END
	ELSE
	BEGIN
		SET @CCMD=N'UPDATE XNLOG SET LAST_UPDATE=GETDATE() WHERE TABLENAME='''+@CTABLENAME+''''
		EXEC SP_EXECUTESQL @CCMD				
	END
END
